(()=>{"use strict";var e={193:(e,t,i)=>{i.r(t)},33:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.generateGame=void 0;t.generateGame=({field:e,gridContainer:t,tileContainer:o,matrix:a})=>{i(a,t),e.map((e=>r(o,String(e))))};const i=(e,t)=>e.map((e=>((e,t)=>{const i=document.createElement("div");return i.className="grid__row",t.appendChild(i),e.map((()=>(e=>{const t=document.createElement("div");return t.className="grid__cell",e.appendChild(t)})(i)))})(e,t))),r=(e,t)=>{const i=document.createElement("div");i.className="tile",i.dataset.matrixId=t,i.innerText=t,"0"===t&&(i.style.opacity="0"),e.appendChild(i)}},949:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getMatrix=void 0,t.getMatrix=(e,t)=>{const i=[];return e.map((()=>i.push(e.splice(0,t)))),i}},876:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.matrixStorage=t.sizeStorage=void 0,t.sizeStorage=localStorage.getItem("size"),t.matrixStorage=localStorage.getItem("matrix")},969:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setNodeStyles=t.setPositionItems=void 0,t.setPositionItems=(e,i)=>{for(let r=0;r<e.length;r++)for(let o=0;o<e.length;o++){const a=e[r][o],n=i.find((e=>e.dataset.matrixId===String(a)));if(void 0===n)return;(0,t.setNodeStyles)(n,o+1,r+1)}},t.setNodeStyles=(e,t,i)=>{const r=`tile-position-${t}-${i}`;e.className=`tile ${r}`}},527:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fieldSize=t.matrix=t.field=t.initialField=t.size=void 0;const r=i(876),o=i(949),a=r.sizeStorage?Number(r.sizeStorage):4,n=Math.pow(a,2),l=[...Array(n-1).keys()].map((e=>++e)),s=[...l].sort((()=>Math.random()-.5)).concat(0),d={size:a,fieldSize:n,initialField:l,field:s,matrix:r.matrixStorage?JSON.parse(r.matrixStorage):(0,o.getMatrix)([...s],a)};t.size=d.size,t.initialField=d.initialField,t.field=d.field,t.matrix=d.matrix,t.fieldSize=d.fieldSize}},t={};function i(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,i),a.exports}i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{i(193);const e=i(527),t=i(969),r=i(33),o=document.querySelector(".tiles"),a=document.querySelector(".grid");(0,r.generateGame)({field:e.field,gridContainer:a,tileContainer:o,matrix:e.matrix});const n=Array.from(o.querySelectorAll(".tile"));function l(e,t){for(let i=0;i<t.length;i++)for(let r=0;r<t.length;r++)if(t[i][r]===e)return{x:r,y:i};return null}(0,t.setPositionItems)(e.matrix,n),o.addEventListener("click",(i=>{const r=i.target.closest(".tile");if(!r)return;const o=l(Number(r.dataset.matrixId),e.matrix),a=l(0,e.matrix),s=function(e,t){const i=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return console.log(i,r),!(1!==i&&1!==r||e.x!==t.x&&e.y!==t.y)}(o,a);console.log(s),s&&(function(e,t,i){const r=i[e.y][e.x];i[e.y][e.x]=i[t.y][t.x],i[t.y][t.x]=r}(a,o,e.matrix),(0,t.setPositionItems)(e.matrix,n))}))})()})();